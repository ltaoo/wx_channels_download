import{_ as a,c as i,o as e,ac as t}from"./chunks/framework.CCoeZyRp.js";const c=JSON.parse('{"title":"公众号服务","description":"","frontmatter":{"title":"公众号服务"},"headers":[],"relativePath":"config/officialacount.md","filePath":"config/officialacount.md","lastUpdated":1769936964000}'),n={name:"config/officialacount.md"};function l(p,s,h,o,k,r){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="公众号服务" tabindex="-1">公众号服务 <a class="header-anchor" href="#公众号服务" aria-label="Permalink to &quot;公众号服务&quot;">​</a></h1><p>对公众号的 RSS、刷新凭证、请求凭证进行配置</p><h2 id="remoteserver" tabindex="-1">remoteServer <a class="header-anchor" href="#remoteserver" aria-label="Permalink to &quot;remoteServer&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  remoteServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rss.example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span></code></pre></div><p>在本地打开公众号文章页面，会向该服务提交凭证信息。同时，如果 <code>RSS</code> 链接指定了 <code>proxy=1</code>，添加的代理前缀也是该服务的地址</p><h3 id="远端服务模式" tabindex="-1">远端服务模式 <a class="header-anchor" href="#远端服务模式" aria-label="Permalink to &quot;远端服务模式&quot;">​</a></h3><p>即部署在 <code>linux</code> 服务器上，仅提供 <code>RSS</code> 和 <code>API</code> 服务。该模式下，<code>remoteServer</code> 需要设置为服务器的地址，或者实际的域名，比如</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  remoteServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rss.example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span></code></pre></div><p>同时配套的「本地服务」的配置，和上面保持一致</p><h2 id="刷新凭证" tabindex="-1">刷新凭证 <a class="header-anchor" href="#刷新凭证" aria-label="Permalink to &quot;刷新凭证&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  refreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  refreshSkipMinutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span></code></pre></div><p>同样本地和远端都要配置，本地向远端提交公众号凭证时，通过该 <code>token</code> 校验请求是否授权。</p><p><code>refreshSkipMinutes</code>: 刷新时若账号在最近 N 分钟已更新则跳过，默认 20 分钟。</p><h2 id="请求凭证" tabindex="-1">请求凭证 <a class="header-anchor" href="#请求凭证" aria-label="Permalink to &quot;请求凭证&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  tokenFilepath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./token.txt&quot;</span></span></code></pre></div><p>是一个文件路径，可以指定一个绝对路径。启动后，如果该文件存在，则会读取内容，将<strong>每一行作为一个token</strong>，内容不为空（存在<code>token</code>时），每次 <code>API</code> 请求或 <code>RSS</code> 请求，都需要在 <code>query</code> 加上 <code>token=</code> 参数，否则会拒绝访问</p>`,16)])])}const E=a(n,[["render",l]]);export{c as __pageData,E as default};
