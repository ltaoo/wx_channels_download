import{_ as s,c as i,o as e,ac as l}from"./chunks/framework.CCoeZyRp.js";const k=JSON.parse('{"title":"v260118","description":"","frontmatter":{"title":"v260118"},"headers":[],"relativePath":"releases/260118.md","filePath":"releases/260118.md","lastUpdated":1770901397000}'),n={name:"releases/260118.md"};function t(o,a,h,d,p,r){return e(),i("div",null,[...a[0]||(a[0]=[l(`<h1 id="v260118" tabindex="-1">v260118 <a class="header-anchor" href="#v260118" aria-label="Permalink to &quot;v260118&quot;">​</a></h1><p>我经常在不同电脑下载视频，文件就非常零散，所以这次更新可以在 <code>nas</code> 上部署，把视频直接下载到 <code>nas</code> 上就方便多了。</p><h2 id="更新内容" tabindex="-1">更新内容 <a class="header-anchor" href="#更新内容" aria-label="Permalink to &quot;更新内容&quot;">​</a></h2><h3 id="新功能" tabindex="-1">新功能 <a class="header-anchor" href="#新功能" aria-label="Permalink to &quot;新功能&quot;">​</a></h3><ul><li>将原先的 <code>mp</code> 命令改为 <code>server</code> 命令</li><li>增加 <code>download.remoteServer</code> 配置，开启后请求该服务接口下载视频</li><li>公众号管理页面现在刷新后仍保留当前筛选项</li><li>图片类视频也支持在后台下载了</li><li>批量下载过程中支持中断创建下载任务</li><li>下载任务列表接口支持分页</li></ul><h3 id="问题修复" tabindex="-1">问题修复 <a class="header-anchor" href="#问题修复" aria-label="Permalink to &quot;问题修复&quot;">​</a></h3><ul><li>修复了公众号管理页面状态筛选项不生效的问题</li><li>修复了批量下载时存在图片类视频会中断下载的问题</li><li>修复了批量下载存在同名视频时实际下载到的视频数和展示的下载任务数不一致的问题</li></ul><h2 id="在-nas-上部署下载服务" tabindex="-1">在 nas 上部署下载服务 <a class="header-anchor" href="#在-nas-上部署下载服务" aria-label="Permalink to &quot;在 nas 上部署下载服务&quot;">​</a></h2><p>下载 <code>linux</code> 版本的 <code>wx_channels_download</code>，上传到 <code>nas</code> 上，执行如下命令</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./wx_channels_download</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>将以守护进程模式运行</p><blockquote><p>建议修改 <code>config.yaml</code> 中下载目录为 <code>./downloads</code> 便于管理</p></blockquote><p>然后修改本地的 <code>config.yaml</code> 增加如下配置</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">download</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  remoteServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.1.118&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2022</span></span></code></pre></div><p><code>192.168.1.118</code> 是我的 <code>nas</code> 服务内网地址，修改号之后启动下载器，点击下载按钮，就会提交到 <code>nas</code> 上下载了。</p><p>同时下载面板上原先的「打开文件」按钮改成了在新窗口打开视频了，同样可以验证视频是否下载成功。</p><h2 id="公众号-rss-服务" tabindex="-1">公众号 RSS 服务 <a class="header-anchor" href="#公众号-rss-服务" aria-label="Permalink to &quot;公众号 RSS 服务&quot;">​</a></h2><p>实际用下来并不稳定，后面会移除掉该功能，改为公众号文章下载功能，预计包含如下功能</p><ul><li>下载单篇文章</li><li>下载指定公众号所有文章</li></ul>`,19)])])}const u=s(n,[["render",t]]);export{k as __pageData,u as default};
