import{_ as s,c as i,o as e,ag as t}from"./chunks/framework.DjVFz-EU.js";const k=JSON.parse('{"title":"API","description":"","frontmatter":{"title":"API"},"headers":[],"relativePath":"feature/api.md","filePath":"feature/api.md","lastUpdated":1768038584000}'),p={name:"feature/api.md"};function n(l,a,h,d,o,c){return e(),i("div",null,[...a[0]||(a[0]=[t(`<h1 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h1><p>可以通过 <code>HTTP</code> 请求来调用下载器的 API，现在提供了以下几个接口</p><ul><li>获取下载任务列表</li><li>开始下载任务</li><li>暂停下载任务</li><li>删除下载任务</li><li>搜索视频号账号</li><li>获取指定视频号账号发布的视频</li><li>获取视频号视频的详情</li></ul><p>视频号相关接口，都需要保持视频号页面打开的状态，否则调用接口时会提示 <code>{&quot;code&quot;:400,&quot;msg&quot;:&quot;请先初始化客户端 socket 连接&quot;}</code>。当出现该提示时，打开视频号页面即可，如果已经打开，刷新一下即可。</p><h2 id="搜索视频号账号" tabindex="-1">搜索视频号账号 <a class="header-anchor" href="#搜索视频号账号" aria-label="Permalink to &quot;搜索视频号账号&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:2022/api/channels/contact/search?keyword=龙虾</span></span></code></pre></div><h2 id="获取视频号指定账号的视频列表" tabindex="-1">获取视频号指定账号的视频列表 <a class="header-anchor" href="#获取视频号指定账号的视频列表" aria-label="Permalink to &quot;获取视频号指定账号的视频列表&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:2022/api/channels/contact/feed/list?username=v2_060000231003b20faec8c4e48e1dc3ddcd03ec3cb077bb11b3c6c9a42ee3cea8073a64e6e2bd@finder</span></span></code></pre></div><h2 id="获取视频号指定视频详情" tabindex="-1">获取视频号指定视频详情 <a class="header-anchor" href="#获取视频号指定视频详情" aria-label="Permalink to &quot;获取视频号指定视频详情&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:2022/api/channels/feed/profile?oid=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14545102784038246591</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&amp;nid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">17453311911488030792_0_140_2_32_5217671461141767_bf99bd48-e5eb-11f0-9859-81948764da50</span></span></code></pre></div><p>或者直接传入视频号页面地址，如 <code>https://channels.weixin.qq.com/web/pages/feed?oid=zagCB5LjCrE&amp;nid=d3pMFaDgxy4</code></p><p>传入的地址需要进行编码</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encodeURIComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;https://channels.weixin.qq.com/web/pages/feed?oid=zagCB5LjCrE&amp;nid=d3pMFaDgxy4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:2022/api/channels/feed/profile?url=https%3A%2F%2Fchannels.weixin.qq.com%2Fweb%2Fpages%2Ffeed%3Foid%3DzagCB5LjCrE%26nid%3Dd3pMFaDgxy4</span></span></code></pre></div><h2 id="创建视频号下载任务" tabindex="-1">创建视频号下载任务 <a class="header-anchor" href="#创建视频号下载任务" aria-label="Permalink to &quot;创建视频号下载任务&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://127.0.0.1:2022/api/task/create_channels&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;cover&quot;: true, &quot;url&quot;: &quot;https://channels.weixin.qq.com/web/pages/feed?oid=zagCB5LjCrE&amp;nid=d3pMFaDgxy4&amp;context_id=33-9-141-18a2bc728e23eacd62e8fc98e3bbff391768023553823&amp;entrance_id=1002&amp;req_time=1767887337&amp;exportkey=n_ChQIAhIQeQFDxKsyNw296ySx31udbxKMAgIE97dBBAEAAAAAAJtcOgVgeQAAAAAOpnltbLcz9gKNyK89dVj0Z5WHOTv3WqpHc4LJgnpXV6g383YJo8%2BUIOjT2Y9k%2FNCj%2BnAXGPEP5rSwX6eTMFijG9xRV5wJM7F4%2F%2BKked55Q2Ao8WRg7LI05FClrpb0iNlfi%2B4HttbXt0E5o4U3vpzAAb%2F3WXhHUBrbc3DgmXHpxOSHPx3BdgQaE7IotUe9IS5cv%2Bf3BJCBEI1pZHs3e5%2FMs1ZRjV3Crwg0%2FShUoUG%2FqKstXMRHn2KJ0uM4H93DWxIBxtTMnDbk3%2F9CFjCo6n4J73vvGRoIex8nLMUZ%2FC6mW3GYqn%2Fp9hp70GlLg5ScHexjw3HklyQ%3D&amp;pass_ticket=VgBMoEBGN9Dup64gcPQ%2BHeruABRSIVerbzmQp9w1bCZsXDsoZwddjH0M%2Bzaey5yuJsXz02LqYJZrqzgl57DvKw%3D%3D&amp;wx_header=0&quot;}&#39;</span></span></code></pre></div><p>其中 <code>body</code> 和详情接口一样，支持传 <code>oid</code>+<code>nid</code>，或者 <code>url</code>。</p><p>传 <code>mp3</code>，表示下载为 <code>mp3</code> 文件</p><p>传 <code>cover</code>，表示下载视频封面</p>`,19)])])}const g=s(p,[["render",n]]);export{k as __pageData,g as default};
