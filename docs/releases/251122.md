---
title: v251122
---

# v251122

## 主要变化

- 支持通过 `config.yaml` 配置是否默认下载原始视频：

```yaml
download:
  defaultHighest: false
```

- 支持指定是否设置系统代理，并配置端口：

```yaml
proxy:
  system: true
  port: 2023
```

- 支持自动检测是否需要管理员权限并按需申请。

## Clash 转发示例

当关闭系统代理（`proxy.system=false`）时，可在 Clash 中添加如下脚本，将流量转发到下载器代理服务：

```js
function main(config, profileName) {
    config["proxy-groups"].unshift({
    name: 'ChannelsDownload',
    type: 'fallback',
    proxies: ["channels_download", "DIRECT"],
    interval: 5
  });
  config["proxies"].unshift({
    name: "channels_download",
    type: 'http',
    server: '127.0.0.1',
    port: 2023,
  });
  config.rules.unshift(...[
    "PROCESS-NAME,wx_video_download.exe,DIRECT",
    "PROCESS-NAME,wx_video_download,DIRECT",
    "DOMAIN-SUFFIX,qq.com,ChannelsDownload"
  ]);
  return config;
}
```

## 获取

- 发布页：<https://github.com/ltaoo/wx_channels_download/releases>

